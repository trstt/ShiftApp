<!DOCTYPE html>
<html>
<!--
  * Please see the included README.md file for license terms and conditions.
  -->
<head>
    <title>The  Shift 2017 Official App</title>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">

    <!-- see http://webdesign.tutsplus.com/tutorials/htmlcss-tutorials/quick-tip-dont-forget-the-viewport-meta-tag -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <style>
        /* following two viewport lines are equivalent to the meta viewport statement above, needed for Windows */
        /* see http://www.quirksmode.org/blog/archives/2014/05/html5_dev_conf.html and http://dev.w3.org/csswg/css-device-adapt/ */
        @-ms-viewport { width: 100vw ; zoom: 100% ; }  @viewport { width: 100vw ; zoom: 100% ; }
        @-ms-viewport { user-zoom: fixed ; }           @viewport { user-zoom: fixed ; }
    </style>

    <script src="cordova.js"></script>          <!-- phantom library, needed for Cordova api calls, added during build -->
    <script src="js/app.js"></script>           <!-- recommended location of your JavaScript code relative to other JS files -->
    <script src="xdk/init-dev.js"></script>     <!-- normalizes device and document ready events, see README for details -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/shift-styles.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link href="css/partners.css" rel="stylesheet">
</head>
<body>
<div class="wrapper">
    <div id="menu">
        <ul>
            <li>
                <a href="index.html">
                    <i class="fa fa-home" aria-hidden="true"></i>
                </a>
            </li>
            <li>
                <a href="schedule.html">
                    <i class="fa fa-calendar" aria-hidden="true"></i>
                </a>
            </li>
            <li>
                <a href="speakersgrid.html">
                    <i class="fa fa-microphone" aria-hidden="true"></i>
                </a>
            </li>
            <li>
                <i class="fa fa-map-o" aria-hidden="true"></i>
            </li>
            <li>
                <a href="partners.html">
                    <i class="fa fa-heart" aria-hidden="true"></i>
                </a>
            </li>
            <li>
                <i class="fa fa-info" aria-hidden="true"></i>
            </li>
        </ul>
    </div>
    <div id="content">
        <!--<div class="swipeOpenMenu" id="swipeOpenMenu"></div>-->
        <div class="closeMenu" id="closeMenu"></div>
        <nav class="navbar navbar-default">
            <a id="openMenu" class="navbar-brand" href="#">
                <i class="fa fa-bars" aria-hidden="true"></i>
            </a>
        </nav>

        <div class="container">
            <div class="col-xs-12 partner partner01">
                <div class="infotext">
                    <p>GE (NYSE: GE) is the worldâ€™s Digital Industrial Company, transforming industry with software-defined machines and solutions that are connected, responsive and predictive. GE is organized around a global exchange of knowledge, the "GE Store," through which each business shares and accesses the same technology, markets, structure and intellect. Each invention further fuels innovation and application across our industrial sectors. With people, services, technology and scale, GE delivers better outcomes for customers by speaking the language of industry.</p>
                </div>
            </div>
            <div class="col-xs-12 partner partner02">
                <div class="infotext">
                    <p>Werstas is a workspace and community. In addition to great co-workers, potential business partners and the excellent coffee, Werstas has the best solutions for businesses of different sizes, freelancers and long distance workers.</p>
                </div>
            </div>
            <div class="col-xs-12 partner partner03">
                <div class="infotext">
                    <p>Est sit enim est dolor. Et laboriosam quam autem explicabo sit quo dignissimos. Quos deserunt eum magni quas recusandae sit. Placeat quo autem tempora quis. Voluptas harum et aut. Quis nam ea dolorem placeat esse sunt quia.</p>
                </div>
            </div>
            <!---<div class="col-xs-12 partner partner04">
                <div class="infotext">
                    <p>Omnis qui voluptates quos. Sed est repellat nihil repellendus. Eaque aut quis odit nobis corrupti deserunt ad. Vel sit laboriosam atque consectetur et. Nesciunt at alias tenetur. Id vero autem est corrupti odit non voluptate soluta.</p>
                </div>
            </div>
            <div class="col-xs-12 partner partner05">
                <div class="infotext">
                    <p>Turun Sanomat is the leading local media and one of the biggest newspaper in Finland.</p>
                </div>
            </div>
            <div class="col-xs-12 partner partner06">
                <div class="infotext">
                    <p>Rerum velit accusantium similique autem. Esse qui est consequuntur architecto quas quidem. Nostrum quod enim ad ullam culpa et mollitia. Repellat doloremque est aperiam eaque soluta placeat quae. Vitae placeat placeat adipisci dolorem consequatur.</p>
                </div>
            </div>
            <div class="col-xs-12 partner partner07">
                <div class="infotext">
                    <p>Autem et quibusdam aut aut unde laboriosam. Qui possimus voluptas dolorem aut aliquam et voluptatem. Amet et vitae sit est facilis aspernatur illo.</p>
                </div>
            </div>
            <div class="col-xs-12 partner partner08">
                <div class="infotext">
                    <p>Consequatur officia natus tempora magnam. Consequuntur omnis ducimus alias ullam autem. Debitis sed facere omnis.</p>
                </div>
            </div>--->
        </div>
    </div>
<script src="js/jquery-3.1.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.mobile-events.min.js"></script>
<script type="text/javascript" src="js/cordova.oauth2.js"></script>
<script>
    $(document).ready(function(){
        function qs(key) {
            key = key.replace(/[*+?^$.\[\]{}()|\\\/]/g, "\\$&"); // escape RegEx meta chars
            var match = location.search.match(new RegExp("[?&]" + key + "=([^&]+)(&|$)"));
            var slide = match && decodeURIComponent(match[1].replace(/\+/g, " "));
            if (Math.floor(slide) == slide && $.isNumeric(slide))
                return parseInt(slide);
            else
                return 0;
        }
        $('#myCarousel').carousel(qs('slide'));
    });
    // SIDE MENU

    $('#openMenu').tapend(function(){
        $('.wrapper').animate(
			{left: '0'},
			200,
			"linear"
		);
        $('#closeMenu').css('display','block');
    }).stop(true);
	$('#swipeOpenMenu').tapmove(function(){
        $('.wrapper').animate(
			{left: '0'},
			200,
			"swing"
		);
        $('#closeMenu').css('display','block');
    }).stop(true);

    $('.closeMenu').on('tapend tapmove', function(){
        $('.wrapper').animate(
			{
				left: '-80vw',
			},
			100,
			"swing"
		);
        $(this).css('display', 'none');
    }).stop(true);

    //PARTNER INFO
    $('.partner').tapend(function(){
        var partner = $(this);
        var top = partner.offset().top
        partner.toggleClass('maxed');
        partner.children('.infotext').toggleClass('showText');
        partner.siblings('.partner').toggleClass('hide');
        /*partner.hasClass('maxed') ? top = 0: top = partner.offset().top - (window.innerHeight/100*15);
        $('.container').animate({ scrollTop: top }, 1);*/
        $('.container').toggleClass('noScroll')
    });

/*  // MENU SWIPE FROM LEFT
    $('#content').swiperight(function(){
        $('.wrapper').animate({left:'0px'});
        $('#closeMenu').css('display','block');
    });
*/
    // SPEAKER INTRO CAROUSEL
    $("#myCarousel").swiperight(function() {
        $("#myCarousel").carousel('prev');
    });

    $("#myCarousel").swipeleft(function() {
        $("#myCarousel").carousel('next');
    });

    $(".carousel-caption").tapend(function(){
        $(this).animate({bottom:'0vh'},200);
        $(this).find('#arrowUp').removeClass('fa-chevron-up').addClass('fa-chevron-down');
        $('.closeMenu').css({
            'display': 'block',
            'height': '54vh'
            });
    });

    $('.closeMenu').on('tapend tapmove', function(){
        $(".carousel-caption").animate({bottom:'-50vh'},200);
        $(".carousel-caption").find('#arrowUp').removeClass('fa-chevron-down').addClass('fa-chevron-up');
        $(this).css({
            'display': 'none',
            'height': '100vh'
        });
    });

    // USER INFO
	$('#send').on('tap', function(){
		localStorage.userName = $('#input').val();
		introductions();
	});

	$('#erase').on('tap', function(){
		localStorage.removeItem('userName');
	});

	introductions();
	function introductions (){
		if(localStorage.userName != undefined){
			$('#greetings').html('Welcome <strong>' +localStorage.userName +'</strong>!<br><br><a href="">Check out todays awesome <strong>schedule</strong></a>');

		}else{
			$('#greetings').html('You\'re new! Introduce yourself <strong><a href="">here</a></strong>');
		};
	};

    // LINKEDIN OAUTH2
    function oauth2_login() {
        $.oauth2({
            auth_url: 'https://www.linkedin.com/oauth/v2/authorization',           // required
            response_type: 'code',      // required - "code"/"token"
            token_url: 'https://www.linkedin.com/uas/oauth2/accessToken',          // required if response_type = 'code'
            client_id: '78p3krb1oky5vx',          // required
            client_secret: 'ptIkcf2REN9hSiEZ',      // required if response_type = 'code'
            redirect_uri: 'http://localhost/',       // required - some dummy url
            other_params: {scope: 'r_basicprofile', state: 'oujeeoujeeoujeea'}        // optional params object for scope, state, display...
        }, function(token, response){
            // do something with token or response
            var authtoken = 'bearer'+token
            $('#logs').html(token);
            $.ajax({
                url: "https://api.linkedin.com/v1/people/~?(:id)format=json?oauth_token="+token,
                type: "GET",
                Host: "api.linkedin.com",
                Connection: "Keep-Alive",
                Authorization: authtoken,
                success: function(data) {
                    $('#logs2').html(data);
                }
            });
        }, function(error, response){
            // do something with error object
            $("#logs").append("<p class='error'><b>error: </b>"+JSON.stringify(error)+"</p>");
            $("#logs").append("<p class='error'><b>response: </b>"+JSON.stringify(response)+"</p>");
        });
    };
</script>
</body>
</html>
