<!DOCTYPE html>
<html>
<!--
  * Please see the included README.md file for license terms and conditions.
  -->
<head>
    <title>The  Shift 2017 Official App</title>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">

    <!-- see http://webdesign.tutsplus.com/tutorials/htmlcss-tutorials/quick-tip-dont-forget-the-viewport-meta-tag -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <style>
        /* following two viewport lines are equivalent to the meta viewport statement above, needed for Windows */
        /* see http://www.quirksmode.org/blog/archives/2014/05/html5_dev_conf.html and http://dev.w3.org/csswg/css-device-adapt/ */
        @-ms-viewport { width: 100vw ; zoom: 100% ; }  @viewport { width: 100vw ; zoom: 100% ; }
        @-ms-viewport { user-zoom: fixed ; }           @viewport { user-zoom: fixed ; }
    </style>

    <script src="cordova.js"></script>          <!-- phantom library, needed for Cordova api calls, added during build -->
    <script src="js/app.js"></script>           <!-- recommended location of your JavaScript code relative to other JS files -->
    <script src="xdk/init-dev.js"></script>     <!-- normalizes device and document ready events, see README for details -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/shift-styles.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
</head>

<body>
<div class="wrapper">
    <div id="menu">
        <ul>
            <li>
                <i class="fa fa-calendar" aria-hidden="true"></i>
            </li>
            <li>
                <i class="fa fa-microphone" aria-hidden="true"></i>
            </li>
            <li>
                <i class="fa fa-map-o" aria-hidden="true"></i>
            </li>
            <li>
                <i class="fa fa-info" aria-hidden="true"></i>
            </li>
        </ul>
    </div>
    <div id="content">
        <div class="closeMenu" id="closeMenu"></div>
        <nav class="navbar navbar-default">
            <a id="openMenu" class="navbar-brand" href="#">
                <i class="fa fa-bars" aria-hidden="true"></i>
            </a>
        </nav>

        <div class="container">
            <p>Hello, Cordova!</p>
            <p><input type="button" onclick="oauth2_login()" value="Oauth2 Login"></p>
            <div id="logs"></div>
            <div id="logs2"></div>
			<img src="img/banner.png">
			<img src="img/kartta.svg">

        </div>
    </div>
</div>


<script src="js/jquery-3.1.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.mobile-events.min.js"></script>
<script type="text/javascript" src="js/cordova.oauth2.js"></script>
<script type='application/javascript' src='js/fastclick.js'></script>
<script>

	document.addEventListener("deviceready", onDeviceReady, false);
	function onDeviceReady() {
		if (cordova.platformId == 'android') {
			StatusBar.show();
			StatusBar.backgroundColorByHexString("#333");
		}
	}

    $(function() {
        FastClick.attach(document.body);
    });
    $('#openMenu').tapend(function(){
        $('.wrapper').animate({left:'0px'});
        $('#closeMenu').css('display','block');
    });

    $('.closeMenu').tapend(function(){
        $('.wrapper').animate({left:'-7.2em'});
        $(this).css('display', 'none');
    });
/*
    $('#content').swiperight(function(){
        $('.wrapper').animate({left:'0px'});
        $('#closeMenu').css('display','block');
    });
*/
    // template for new oauth2 service
    function oauth2_login() {
        $.oauth2({
            auth_url: 'https://www.linkedin.com/oauth/v2/authorization',           // required
            response_type: 'code',      // required - "code"/"token"
            token_url: 'https://www.linkedin.com/uas/oauth2/accessToken',          // required if response_type = 'code'
            client_id: '78p3krb1oky5vx',          // required
            client_secret: 'ptIkcf2REN9hSiEZ',      // required if response_type = 'code'
            redirect_uri: 'http://localhost/',       // required - some dummy url
            other_params: {scope: 'r_basicprofile', state: 'oujeeoujeeoujeea'}        // optional params object for scope, state, display...
        }, function(token, response){
            // do something with token or response
            var authtoken = 'bearer'+token
            $('#logs').html(token);
            $.ajax({
                url: "https://api.linkedin.com/v1/people/~?(:id)format=json?oauth_token="+token,
                type: "GET",
                Host: "api.linkedin.com",
                Connection: "Keep-Alive",
                Authorization: authtoken,
                success: function(data) {
                    $('#logs2').html(data);
                }
            });
        }, function(error, response){
            // do something with error object
            $("#logs").append("<p class='error'><b>error: </b>"+JSON.stringify(error)+"</p>");
            $("#logs").append("<p class='error'><b>response: </b>"+JSON.stringify(response)+"</p>");
        });
    }
</script>
</head>
</body>
</html>
