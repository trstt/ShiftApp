<!DOCTYPE html>
<html>
<!--
  * Please see the included README.md file for license terms and conditions.
  -->
<head>
    <title>The  Shift 2017 Official App</title>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">

    <!-- see http://webdesign.tutsplus.com/tutorials/htmlcss-tutorials/quick-tip-dont-forget-the-viewport-meta-tag -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <style>
        /* following two viewport lines are equivalent to the meta viewport statement above, needed for Windows */
        /* see http://www.quirksmode.org/blog/archives/2014/05/html5_dev_conf.html and http://dev.w3.org/csswg/css-device-adapt/ */
        @-ms-viewport { width: 100vw ; zoom: 100% ; }  @viewport { width: 100vw ; zoom: 100% ; }
        @-ms-viewport { user-zoom: fixed ; }           @viewport { user-zoom: fixed ; }
    </style>

    <script src="cordova.js"></script>          <!-- phantom library, needed for Cordova api calls, added during build -->
    <script src="js/app.js"></script>           <!-- recommended location of your JavaScript code relative to other JS files -->
    <script src="xdk/init-dev.js"></script>     <!-- normalizes device and document ready events, see README for details -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/shift-styles.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
	<style>
		::-webkit-scrollbar {
			display:none;
		}
	</style>
</head>

<body>
<div class="wrapper">
    <div id="menu">
        <ul>
            <li>
                <a href="index.html">
                    <i class="fa fa-home" aria-hidden="true"></i>
                </a>
            </li>
            <li>
                <a href="schedule.html">
                    <i class="fa fa-calendar" aria-hidden="true"></i>
                </a>
            </li>
            <li>
                <a href="speakers.html">
                    <i class="fa fa-microphone" aria-hidden="true"></i>
                </a>
            </li>
            <li>
				<a href="map.html">
                	<i class="fa fa-map-o" aria-hidden="true"></i>
				</a>
            </li>
            <li>
                <a href="matchma.html">
                    <i class="fa fa-handshake-o" aria-hidden="true"></i>
                </a>
            </li>
            <li>
                <i class="fa fa-info" aria-hidden="true"></i>
            </li>
        </ul>
    </div>
    <div id="content">
	    <!--<div class="swipeOpenMenu" id="swipeOpenMenu"></div>-->
        <div class="closeMenu" id="closeMenu"></div>
        <nav class="navbar navbar-default">
            <a id="openMenu" class="navbar-brand" href="#">
                <i class="fa fa-bars" aria-hidden="true"></i>
            </a>
        </nav>

        <div class="container">
			<div class="introduction">
				<img class="logo" src="img/Shift_Color.png">
				<h1>BUSINESS FESTIVAL</h1>
				<h3>31.5. - 1.6.2017</h3>
				<img class="divider" src="img/divider.jpeg">
				<div id="clockdiv" style="position: relative;">
					<div>
						<span class="time days"></span>
						<span class="time hours"></span>
						<span class="time minutes"></span>
						<span class="time seconds"></span>
					</div>
					<div class="timetextwrap">
						<span class="timetext">DAYS</span>
						<span class="timetext">HRS</span>
						<span class="timetext">MIN</span>
						<span class="timetext">SEC</span>
					</div>
				</div>
				<a href="http://theshift.fi/tickets" target="_system"><input type="button" value="GET A TICKET"></input></a>
			</div>
			<div id="paragraph">
				<h4>SHIFT 2017</h4>
				<p>
					SHIFT is a business festival where every participant is crucial for making SHIFT happen. At SHIFT you can participate in round-table discussions, one-on-one meetings and workshops, as well as listen to keynotes and panel discussions. SHIFT will take place at the Castle of Turku on the 31st of May and the 1st of June 2017.
				</p>
			</div>
			<div class="shortcut">
				<a href="speakers.html"><input type="button" value="SPEAKERS"></input></a><a href="map.html"><input type="button" value="MAP"></input></a><a href=""><input type="button" value="ABOUT"></input></a>
			</div>
			<div class="newsletter">
				<a href="http://theshift.fi/#HTMLBlock1320" target="_system"><input type="button" value="SUBSCRIBE TO THE NEWSLETTER"></input></a>
			</div>

			<!---<input type="text" name="input" id="input" placeholder="Hello, my name is..."></input>

			<input type="button" name="send" id="send" value=">>>"></input>
			<br><hr><br>
			<p id="greetings"></p>
			<br><hr>
			<input type="button" name="erase" id="erase" value="Poista nimitiedot"></input>
			<br><br>

			<img src="img/kartta.svg">
			<img src="img/kartta.svg">--->
        </div>
    </div>
</div>


<script src="js/jquery-3.1.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.mobile-events.min.js"></script>
<script type="text/javascript" src="js/cordova.oauth2.js"></script>
<script type='application/javascript' src='js/fastclick.js'></script>
<script>

	$(function() {
        FastClick.attach(document.body);
    });

	/////// COUNTDOWN ///////
	function getTimeRemaining(endtime) {
	  var t = Date.parse(endtime) - Date.parse(new Date());
	  var seconds = Math.floor((t / 1000) % 60);
	  var minutes = Math.floor((t / 1000 / 60) % 60);
	  var hours = Math.floor((t / (1000 * 60 * 60)) % 24);
	  var days = Math.floor(t / (1000 * 60 * 60 * 24));
	  return {
		'total': t,
		'days': days,
		'hours': hours,
		'minutes': minutes,
		'seconds': seconds
	  };
	}

	function initializeClock(id, endtime) {
	  var clock = document.getElementById(id);
	  var daysSpan = clock.querySelector('.days');
	  var hoursSpan = clock.querySelector('.hours');
	  var minutesSpan = clock.querySelector('.minutes');
	  var secondsSpan = clock.querySelector('.seconds');

	  function updateClock() {
		var t = getTimeRemaining(endtime);

		daysSpan.innerHTML = t.days;
		hoursSpan.innerHTML = ('0' + t.hours).slice(-2);
		minutesSpan.innerHTML = ('0' + t.minutes).slice(-2);
		secondsSpan.innerHTML = ('0' + t.seconds).slice(-2);

		if (t.total <= 0) {
		  clearInterval(timeinterval);
		}
	  }

	  updateClock();
	  var timeinterval = setInterval(updateClock, 1000);
	}

	var deadline = 'May 31 2017 00:00:00 GMT+0200'
	//new Date(Date.parse(new Date()) + 15 * 24 * 60 * 60 * 1000);
	initializeClock('clockdiv', deadline);

    $('#openMenu').tapend(function(){
        $('.wrapper').animate(
			{left: '0'},
			200,
			"linear"
		);
        $('#closeMenu').css('display','block');
    }).stop(true);
	$('#swipeOpenMenu').tapmove(function(){
        $('.wrapper').animate(
			{left: '0'},
			200,
			"swing"
		);
        $('#closeMenu').css('display','block');
    }).stop(true);

    $('.closeMenu').on('tapend tapmove', function(){
        $('.wrapper').animate(
			{
				left: '-15vw',
			},
			100,
			"swing"
		);
        $(this).css('display', 'none');
    }).stop(true);
/*
    $('#content').swiperight(function(){
        $('.wrapper').animate({left:'0px'});
        $('#closeMenu').css('display','block');
    });
*/

	$('#send').on('tap', function(){
		localStorage.userName = $('#input').val();
		introductions();
	});

	$('#erase').on('tap', function(){
		localStorage.removeItem('userName');
	});

	introductions();
	function introductions (){
		if(localStorage.userName != undefined){
			$('#greetings').html('Welcome <strong>' +localStorage.userName +'</strong>!<br><br><a href="">Check out todays awesome <strong>schedule</strong></a>');

		}else{
			$('#greetings').html('You\'re new! Introduce yourself <strong><a href="">here</a></strong>');
		}
	}

    // template for new oauth2 service
    function oauth2_login() {
        $.oauth2({
            auth_url: 'https://www.linkedin.com/oauth/v2/authorization',           // required
            response_type: 'code',      // required - "code"/"token"
            token_url: 'https://www.linkedin.com/uas/oauth2/accessToken',          // required if response_type = 'code'
            client_id: '78p3krb1oky5vx',          // required
            client_secret: 'ptIkcf2REN9hSiEZ',      // required if response_type = 'code'
            redirect_uri: 'http://localhost/',       // required - some dummy url
            other_params: {scope: 'r_basicprofile', state: 'oujeeoujeeoujeea'}        // optional params object for scope, state, display...
        }, function(token, response){
            // do something with token or response
            var authtoken = 'bearer'+token
            $('#logs').html(token);
            $.ajax({
                url: "https://api.linkedin.com/v1/people/~?(:id)format=json?oauth_token="+token,
                type: "GET",
                Host: "api.linkedin.com",
                Connection: "Keep-Alive",
                Authorization: authtoken,
                success: function(data) {
                    $('#logs2').html(data);
                }
            });
        }, function(error, response){
            // do something with error object
            $("#logs").append("<p class='error'><b>error: </b>"+JSON.stringify(error)+"</p>");
            $("#logs").append("<p class='error'><b>response: </b>"+JSON.stringify(response)+"</p>");
        });
    }
</script>
</body>
</html>
